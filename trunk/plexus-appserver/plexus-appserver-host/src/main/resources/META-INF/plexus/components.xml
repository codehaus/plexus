<component-set>
  <components>

    <component>
      <role>org.codehaus.plexus.appserver.ApplicationServer</role>
      <implementation>org.codehaus.plexus.appserver.DefaultApplicationServer</implementation>
      <requirements>
        <requirement>
          <role>org.codehaus.plexus.appserver.service.deploy.ServiceDeployer</role>
        </requirement>
        <requirement>
          <role>org.codehaus.plexus.appserver.application.deploy.ApplicationDeployer</role>
        </requirement>
        <requirement>
          <role>org.codehaus.plexus.appserver.supervisor.Supervisor</role>
        </requirement>
      </requirements>
      <configuration>
        <phases>
          <phase>deploy-services</phase>
          <phase>deploy-apps</phase>
        </phases>
      </configuration>
    </component>

    <!-- Appserver lifecycle phases -->
    <component>
      <role>org.codehaus.plexus.appserver.lifecycle.phase.AppServerPhase</role>
      <role-hint>deploy-apps</role-hint>
      <implementation>org.codehaus.plexus.appserver.lifecycle.phase.ApplicationDeploymentPhase</implementation>
      <requirements>
        <requirement>
          <role>org.codehaus.plexus.appserver.application.deploy.ApplicationDeployer</role>
        </requirement>
        <requirement>
          <role>org.codehaus.plexus.appserver.supervisor.Supervisor</role>
        </requirement>
      </requirements>
    </component>

    <component>
      <role>org.codehaus.plexus.appserver.lifecycle.phase.AppServerPhase</role>
      <role-hint>deploy-services</role-hint>
      <implementation>org.codehaus.plexus.appserver.lifecycle.phase.ServiceDeploymentPhase</implementation>
      <requirements>
        <requirement>
          <role>org.codehaus.plexus.appserver.service.deploy.ServiceDeployer</role>
        </requirement>
        <requirement>
          <role>org.codehaus.plexus.appserver.supervisor.Supervisor</role>
        </requirement>
      </requirements>
    </component>

    <!-- Application Deployer -->

    <component>
      <role>org.codehaus.plexus.appserver.application.deploy.ApplicationDeployer</role>
      <implementation>org.codehaus.plexus.appserver.application.deploy.DefaultApplicationDeployer</implementation>
      <configuration>
        <applicationsDirectory>${plexus.home}/apps</applicationsDirectory>
        <phases>
          <phase>process-app-metadata</phase>
          <phase>expand-app</phase>
          <phase>validate-app</phase>
          <phase>create-app-container</phase>
          <phase>create-app-runtime-profile</phase>
          <phase>pre-app-container-init-service-call</phase>
          <phase>app-init</phase>
          <phase>post-app-container-init-service-call</phase>
        </phases>
      </configuration>
    </component>

    <!-- Application Deployment Phases -->

    <component>
      <role>org.codehaus.plexus.appserver.application.deploy.lifecycle.phase.AppDeploymentPhase</role>
      <role-hint>process-app-metadata</role-hint>
      <implementation>org.codehaus.plexus.appserver.application.deploy.lifecycle.phase.ProcessAppMetadataPhase</implementation>
    </component>

    <component>
      <role>org.codehaus.plexus.appserver.application.deploy.lifecycle.phase.AppDeploymentPhase</role>
      <role-hint>expand-app</role-hint>
      <implementation>org.codehaus.plexus.appserver.application.deploy.lifecycle.phase.ExpandAppPhase</implementation>
    </component>

    <component>
      <role>org.codehaus.plexus.appserver.application.deploy.lifecycle.phase.AppDeploymentPhase</role>
      <role-hint>validate-app</role-hint>
      <implementation>org.codehaus.plexus.appserver.application.deploy.lifecycle.phase.ValidateAppPhase</implementation>
    </component>

    <component>
      <role>org.codehaus.plexus.appserver.application.deploy.lifecycle.phase.AppDeploymentPhase</role>
      <role-hint>create-app-container</role-hint>
      <implementation>org.codehaus.plexus.appserver.application.deploy.lifecycle.phase.CreateAppContainerPhase</implementation>
    </component>

    <component>
      <role>org.codehaus.plexus.appserver.application.deploy.lifecycle.phase.AppDeploymentPhase</role>
      <role-hint>create-app-runtime-profile</role-hint>
      <implementation>org.codehaus.plexus.appserver.application.deploy.lifecycle.phase.CreateAppRuntimeProfilePhase</implementation>
    </component>

    <component>
      <role>org.codehaus.plexus.appserver.application.deploy.lifecycle.phase.AppDeploymentPhase</role>
      <role-hint>pre-app-container-init-service-call</role-hint>
      <implementation>org.codehaus.plexus.appserver.application.deploy.lifecycle.phase.BeforeAppStartServiceSetupPhase</implementation>
    </component>

    <component>
      <role>org.codehaus.plexus.appserver.application.deploy.lifecycle.phase.AppDeploymentPhase</role>
      <role-hint>app-init</role-hint>
      <implementation>org.codehaus.plexus.appserver.application.deploy.lifecycle.phase.AppInitializationPhase</implementation>
    </component>

    <component>
      <role>org.codehaus.plexus.appserver.application.deploy.lifecycle.phase.AppDeploymentPhase</role>
      <role-hint>post-app-container-init-service-call</role-hint>
      <implementation>org.codehaus.plexus.appserver.application.deploy.lifecycle.phase.AfterAppStartServiceSetupPhase</implementation>
    </component>

    <!-- Service Deployer -->

    <component>
      <role>org.codehaus.plexus.appserver.service.deploy.ServiceDeployer</role>
      <implementation>org.codehaus.plexus.appserver.service.deploy.DefaultServiceDeployer</implementation>
      <configuration>
        <serviceDirectory>${plexus.home}/services</serviceDirectory>
      </configuration>
    </component>

    <component>
      <role>org.codehaus.plexus.appserver.supervisor.Supervisor</role>
      <implementation>org.codehaus.plexus.appserver.supervisor.DefaultSupervisor</implementation>
    </component>


  </components>
</component-set>
