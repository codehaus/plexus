<model>
  <id>rbac</id>
  <name>RBACModel</name>
  <version>1.0.0</version>
  <defaults>
    <default>
      <key>package</key>
      <value>org.codehaus.plexus.security.authorization.rbac.jdo</value>
    </default>
  </defaults>
  <classes>
  
    <class rootElement="true" xml.tagName="model" jpox.stashable="true">
      <name>JdoRBACModel</name>
      <interfaces>
        <interface>org.codehaus.plexus.security.rbac.RBACModel</interface>
      </interfaces>
      <version>1.0.0</version>
      <fields>
        <field>
          <name>jdoId</name>
          <version>1.0.0</version>
          <description>JDO ID.

WARNING: The jdoId field is managed by the underlying JDO implementation.

Do not set this field in application code, as any value you set may cause unintended side effects with the persistence of this object.
          </description>
          <type>int</type>
          <identifier>true</identifier>
        </field>
        <field>
          <name>roles</name>
          <version>1.0.0</version>
          <description>The roles available to be assigned</description>
          <association stash.part="true" java.use-interface="org.codehaus.plexus.security.rbac.Role">
            <type>JdoRole</type>
            <multiplicity>*</multiplicity>
          </association>
        </field>
        <field>
          <name>assignments</name>
          <version>1.0.0</version>
          <association stash.part="true" java.use-interface="org.codehaus.plexus.security.rbac.UserAssignment">
            <type>JdoUserAssignment</type>
            <multiplicity>*</multiplicity>
          </association>
        </field>
      </fields>
    </class>
    
    <class jpox.stashable="true">
      <name>JdoRole</name>
      <version>1.0.0</version>
      <interfaces>
        <interface>org.codehaus.plexus.security.rbac.Role</interface>
      </interfaces>
      <fields>
        <field>
          <name>jdoId</name>
          <version>1.0.0</version>
          <type>int</type>
          <description>JDO ID.

WARNING: The jdoId field is managed by the underlying JDO implementation.

Do not set this field in application code, as any value you set may cause unintended side effects with the persistence of this object.
          </description>
          <identifier>true</identifier>
        </field>
        <field>
          <name>name</name>
          <version>1.0.0</version>
          <type>String</type>
        </field>
        <field>
          <name>description</name>
          <version>1.0.0</version>
          <type>String</type>
        </field>
        <field>
          <name>assignable</name>
          <version>1.0.0</version>
          <type>boolean</type>
          <description>
            true if this role is available to be assigned to a user
          </description>
        </field>
        <field>
          <name>roles</name>
          <version>1.0.0</version>
          <association stash.part="true" java.generate-break="false" java.generate-create="false" java.use-interface="org.codehaus.plexus.security.rbac.Role">
            <type>JdoRole</type>
            <multiplicity>*</multiplicity>
          </association>
          <description>
            roles that will inherit the permissions of this role
          </description>
        </field>
        <field>
          <name>permissions</name>
          <version>1.0.0</version>
          <association stash.part="true" java.generate-break="false" java.generate-create="false" java.use-interface="org.codehaus.plexus.security.rbac.Permission">
            <type>JdoPermission</type>
            <multiplicity>*</multiplicity>
          </association>
        </field>
      </fields>
      <codeSegments>
        <codeSegment>
          <version>1.0.0+</version>
          <code><![CDATA[
    public org.codehaus.plexus.security.rbac.Role createRole()
    {
        return (org.codehaus.plexus.security.rbac.Role) new JdoRole();
    }
        ]]></code>
        </codeSegment>
      </codeSegments>
    </class>
    
    <class jpox.stashable="true">
      <name>JdoPermission</name>
      <version>1.0.0</version>
      <interfaces>
        <interface>org.codehaus.plexus.security.rbac.Permission</interface>
      </interfaces>
      <fields>
        <field>
          <name>jdoId</name>
          <version>1.0.0</version>
          <type>int</type>
          <description>JDO ID.

WARNING: The jdoId field is managed by the underlying JDO implementation.

Do not set this field in application code, as any value you set may cause unintended side effects with the persistence of this object.
          </description>
          <identifier>true</identifier>
        </field>
        <field>
          <name>name</name>
          <version>1.0.0</version>
          <type>String</type>
        </field>
        <field>
          <name>description</name>
          <version>1.0.0</version>
          <type>String</type>
        </field>
        <field>
          <name>operation</name>
          <version>1.0.0</version>
          <association stash.part="true" java.use-interface="org.codehaus.plexus.security.rbac.Operation">
            <type>JdoOperation</type>
          </association>
        </field>
      </fields>
    </class>
    
    <class jpox.stashable="true">
      <name>JdoOperation</name>
      <version>1.0.0</version>
      <interfaces>
        <interface>org.codehaus.plexus.security.rbac.Operation</interface>
      </interfaces>
      <fields>
        <field>
          <name>jdoId</name>
          <version>1.0.0</version>
          <type>int</type>
          <description>JDO ID.

WARNING: The jdoId field is managed by the underlying JDO implementation.

Do not set this field in application code, as any value you set may cause unintended side effects with the persistence of this object.
          </description>
          <identifier>true</identifier>
        </field>
        <field>
          <name>name</name>
          <version>1.0.0</version>
          <type>String</type>
        </field>
        <field>
          <name>resourceRequired</name>
          <version>1.0.0</version>
          <type>boolean</type>
          <description>
            true if the resource is required for authorization to be granted
          </description>
        </field>
        <field>
          <name>resource</name>
          <version>1.0.0</version>
          <association stash.part="true" java.use-interface="org.codehaus.plexus.security.rbac.Resource">
            <type>JdoResource</type>
          </association>
        </field>
      </fields>
    </class>
    
    <class jpox.stashable="true">
      <name>JdoResource</name>
      <version>1.0.0</version>
      <description>
        In RBAC terms, this is the entity which an operation is associated with that which permissions are based on.
      </description>
      <interfaces>
        <interface>org.codehaus.plexus.security.rbac.Resource</interface>
      </interfaces>
      <fields>
        <field>
          <name>jdoId</name>
          <version>1.0.0</version>
          <type>int</type>
          <description>JDO ID.

WARNING: The jdoId field is managed by the underlying JDO implementation.

Do not set this field in application code, as any value you set may cause unintended side effects with the persistence of this object.
          </description>
          <identifier>true</identifier>
        </field>
        <field>
          <name>identifier</name>
          <version>1.0.0</version>
          <type>String</type>
          <description>
            The string identifier for an operation.
          </description>
        </field>
        <field>
          <name>pattern</name>
          <version>1.0.0</version>
          <type>boolean</type>
          <description>
            true if the identifer is a pattern that is to be evaluated, for example x.* could match x.a or x.b and x.**
            could match x.foo 
            TODO is this even snv commia good idea?
          </description>
        </field>
      </fields>
    </class>
    
    <class jpox.stashable="true">
      <name>JdoUserAssignment</name>
      <description>binding of a principal to a role</description>
      <version>1.0.0</version>
      <interfaces>
        <interface>org.codehaus.plexus.security.rbac.UserAssignment</interface>
      </interfaces>
      <fields>
        <field>
          <name>jdoId</name>
          <version>1.0.0</version>
          <type>int</type>
          <description>JDO ID.

WARNING: The jdoId field is managed by the underlying JDO implementation.

Do not set this field in application code, as any value you set may cause unintended side effects with the persistence of this object.
          </description>
          <identifier>true</identifier>
        </field>
        <field>
          <name>principal</name>
          <version>1.0.0</version>
          <type>String</type>
        </field>
        <field>
          <name>roles</name>
          <version>1.0.0</version>
          <association stash.part="true" java.use-interface="org.codehaus.plexus.security.rbac.Role">
            <type>JdoRole</type>
            <multiplicity>*</multiplicity>
          </association>
        </field>
      </fields>
    </class>
  </classes>
</model>
