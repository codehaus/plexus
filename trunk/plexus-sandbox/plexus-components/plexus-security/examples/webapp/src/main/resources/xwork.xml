<?xml version="1.0" ?>
<!DOCTYPE xwork PUBLIC "-//OpenSymphony Group//XWork 1.1.1//EN" "http://www.opensymphony.com/xwork/xwork-1.1.1.dtd">

<xwork>
  <include file="webwork-default.xml"/>
  <include file="xwork-security.xml"/>
    
  <!-- ==================================================================
       Application Webapp Specific Configuration.
       ==================================================================  -->
 
  <package name="root" extends="webwork-default" namespace="/">
    <interceptors>
      <interceptor name="pssEnvCheck" class="pssEnvironmentCheckInterceptor"/>
      <interceptor name="pssSecureActions" class="pssSecureActionInterceptor"/>
      <interceptor-stack name="securedStack">
        <interceptor-ref name="pssEnvCheck"/>
        <interceptor-ref name="defaultStack"/>
        <interceptor-ref name="pssSecureActions"/>
      </interceptor-stack>
      <interceptor-stack name="securedPrepareParamsStack">
        <interceptor-ref name="pssEnvCheck"/>
        <interceptor-ref name="paramsPrepareParamsStack"/>
        <interceptor-ref name="pssSecureActions"/>
      </interceptor-stack>
    </interceptors>
  
    <default-interceptor-ref name="securedStack"/>

    <global-results>
      <result name="security-success">/WEB-INF/jsp/mainpage.jsp</result>
      <result name="error">/WEB-INF/jsp/generalError.jsp</result>
      <result name="admin-account-needed">/WEB-INF/jsp/alert.jsp</result>
      <result name="requires-authentication">/WEB-INF/jsp/alert.jsp</result>
      <result name="requires-authorization">/WEB-INF/jsp/alert.jsp</result>
    </global-results>    
    
    <action name="main" class="main" method="show">
      <result name="login">/WEB-INF/jsp/login.jsp</result>
      <result name="success">/WEB-INF/jsp/mainpage.jsp</result>
      <result name="register">/WEB-INF/jsp/register.jsp</result>
    </action>
  </package>
</xwork>
