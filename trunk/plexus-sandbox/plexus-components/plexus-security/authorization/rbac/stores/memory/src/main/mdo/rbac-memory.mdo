<?xml version="1.0"?>
<model>
  <id>rbac-memory</id>
  <name>RBACMemoryModel</name>
  <version>1.0.0</version>
  <defaults>
    <default>
      <key>package</key>
      <value>org.codehaus.plexus.security.authorization.rbac.memory</value>
    </default>
  </defaults>
  <classes>

    <class rootElement="true" xml.tagName="rbac-model">
      <name>MemoryRbacModel</name>
      <version>1.0.0</version>
      <fields>
        <field>
          <name>roles</name>
          <version>1.0.0</version>
          <association>
            <type>MemoryRoles</type>
            <multiplicity>1</multiplicity>
          </association>
        </field>
        <field xml.tagName="user-assignments">
          <name>userAssignments</name>
          <version>1.0.0</version>
          <association>
            <type>MemoryUserAssignment</type>
            <multiplicity>*</multiplicity>
          </association>
        </field>
      </fields>
    </class>
  
    <class xml.tagName="role">
      <name>MemoryRole</name>
      <version>1.0.0</version>
      <interfaces>
        <interface>org.codehaus.plexus.security.rbac.Role</interface>
      </interfaces>
      <superClass>org.codehaus.plexus.security.rbac.AbstractRole</superClass>
      <fields>
        <field>
          <name>id</name>
          <version>1.0.0</version>
          <type>int</type>
          <description>JDO ID.

WARNING: The jdoId field is managed by the underlying JDO implementation.

Do not set this field in application code, as any value you set may cause unintended side effects with the persistence of this object.
          </description>
          <identifier>true</identifier>
        </field>
        <field>
          <name>name</name>
          <version>1.0.0</version>
          <type>String</type>
        </field>
        <field>
          <name>description</name>
          <version>1.0.0</version>
          <type>String</type>
        </field>
        <field>
          <name>assignable</name>
          <version>1.0.0</version>
          <type>boolean</type>
          <description>
            true if this role is available to be assigned to a user
          </description>
        </field>
        <field xml.tagName="child-roles">
          <name>childRoles</name>
          <version>1.0.0</version>
          <association stash.part="true" java.generate-break="false" java.generate-create="false" java.use-interface="org.codehaus.plexus.security.rbac.Roles">
            <type>MemoryRoles</type>
            <multiplicity>1</multiplicity>
          </association>
          <description>
            roles that will inherit the permissions of this role
          </description>
        </field>
        <field>
          <name>permissions</name>
          <version>1.0.0</version>
          <association stash.part="true" java.generate-break="false" java.generate-create="false" java.use-interface="org.codehaus.plexus.security.rbac.Permission">
            <type>MemoryPermission</type>
            <multiplicity>*</multiplicity>
          </association>
        </field>
      </fields>
    </class>

    <class xml.tagName="roles">
      <name>MemoryRoles</name>
      <version>1.0.0</version>
      <interfaces>
        <interface>org.codehaus.plexus.security.rbac.Roles</interface>
      </interfaces>
      <superClass>org.codehaus.plexus.security.rbac.AbstractRoles</superClass>
      <fields>
        <field>
          <name>id</name>
          <version>1.0.0</version>
          <type>int</type>
          <description>JDO ID.

WARNING: The jdoId field is managed by the underlying JDO implementation.

Do not set this field in application code, as any value you set may cause unintended side effects with the persistence of this object.
          </description>
          <identifier>true</identifier>
        </field>
        <field>
          <name>roles</name>
          <version>1.0.0</version>
          <association stash.part="true" java.generate-break="false" java.generate-create="false" java.use-interface="org.codehaus.plexus.security.rbac.Role">
            <type>MemoryRole</type>
            <multiplicity>*</multiplicity>
          </association>
        </field>
      </fields>
    </class>
    
    <class xml.tagName="permission">
      <name>MemoryPermission</name>
      <version>1.0.0</version>
      <interfaces>
        <interface>org.codehaus.plexus.security.rbac.Permission</interface>
      </interfaces>
      <fields>
        <field>
          <name>id</name>
          <version>1.0.0</version>
          <type>int</type>
          <description>JDO ID.

WARNING: The jdoId field is managed by the underlying JDO implementation.

Do not set this field in application code, as any value you set may cause unintended side effects with the persistence of this object.
          </description>
          <identifier>true</identifier>
        </field>
        <field>
          <name>name</name>
          <version>1.0.0</version>
          <type>String</type>
        </field>
        <field>
          <name>description</name>
          <version>1.0.0</version>
          <type>String</type>
        </field>
        <field>
          <name>operation</name>
          <version>1.0.0</version>
          <association stash.part="true" java.use-interface="org.codehaus.plexus.security.rbac.Operation">
            <type>MemoryOperation</type>
            <multiplicity>1</multiplicity>
          </association>
        </field>
        <field>
          <name>resource</name>
          <version>1.0.0</version>
          <association stash.part="true" java.use-interface="org.codehaus.plexus.security.rbac.Resource">
            <type>MemoryResource</type>
            <multiplicity>1</multiplicity>
          </association>
        </field>
      </fields>
    </class>
    
    <class xml.tagName="operation">
      <name>MemoryOperation</name>
      <version>1.0.0</version>
      <interfaces>
        <interface>org.codehaus.plexus.security.rbac.Operation</interface>
      </interfaces>
      <fields>
        <field>
          <name>id</name>
          <version>1.0.0</version>
          <type>int</type>
          <description>JDO ID.

WARNING: The jdoId field is managed by the underlying JDO implementation.

Do not set this field in application code, as any value you set may cause unintended side effects with the persistence of this object.
          </description>
          <identifier>true</identifier>
        </field>
        <field>
          <name>name</name>
          <version>1.0.0</version>
          <type>String</type>
        </field>
        <field>
          <name>description</name>
          <version>1.0.0</version>
          <type>String</type>
        </field>
        <field>
          <name>resourceRequired</name>
          <version>1.0.0</version>
          <type>boolean</type>
          <description>
            true if the resource is required for authorization to be granted
          </description>
        </field>
      </fields>
    </class>
    
    <class xml.tagName="resource">
      <name>MemoryResource</name>
      <version>1.0.0</version>
      <description>
        In RBAC terms, this is the entity which an operation is associated with that which permissions are based on.
      </description>
      <interfaces>
        <interface>org.codehaus.plexus.security.rbac.Resource</interface>
      </interfaces>
      <fields>
        <field>
          <name>id</name>
          <version>1.0.0</version>
          <type>int</type>
          <description>JDO ID.

WARNING: The jdoId field is managed by the underlying JDO implementation.

Do not set this field in application code, as any value you set may cause unintended side effects with the persistence of this object.
          </description>
          <identifier>true</identifier>
        </field>
        <field>
          <name>identifier</name>
          <version>1.0.0</version>
          <type>String</type>
          <description>
            The string identifier for an operation.
          </description>
        </field>
        <field>
          <name>pattern</name>
          <version>1.0.0</version>
          <type>boolean</type>
          <description>
            true if the identifer is a pattern that is to be evaluated, for example x.* could match x.a or x.b and x.**
            could match x.foo 
          </description>
        </field>
      </fields>
    </class>
    
    <class xml.tagName="user-assignment">
      <name>MemoryUserAssignment</name>
      <description>binding of a principal to a role</description>
      <version>1.0.0</version>
      <interfaces>
        <interface>org.codehaus.plexus.security.rbac.UserAssignment</interface>
      </interfaces>
      <fields>
        <field>
          <name>principal</name>
          <version>1.0.0</version>
          <type>String</type>
          <identifier>true</identifier>
        </field>
        <field>
          <name>roles</name>
          <version>1.0.0</version>
          <association stash.part="true" java.use-interface="org.codehaus.plexus.security.rbac.Roles">
            <type>MemoryRoles</type>
            <multiplicity>1</multiplicity>
          </association>
        </field>
      </fields>
    </class>
  </classes>
</model>
